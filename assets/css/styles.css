:root{
  --bg:#020617;
  --glass:rgba(255,255,255,.06);
  --stroke:rgba(255,255,255,.12);
  --muted:rgba(226,232,240,.74);

  --xrC:rgba(34,211,238,1);
  --xrB:rgba(59,130,246,1);
  --xrI:rgba(99,102,241,1);

  --warn:rgba(245,158,11,1);
  --bad:rgba(239,68,68,1);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:"Tajawal",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  background:var(--bg);
  color:#fff;
  text-rendering:geometricPrecision;
}

.wrap{max-width:1200px;margin:0 auto;padding:0 16px}
.main{padding-top:92px;padding-bottom:50px}

.glass{
  background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
  border:1px solid rgba(255,255,255,.10);
  backdrop-filter: blur(18px);
  box-shadow: 0 18px 60px rgba(0,0,0,.30), inset 0 1px 0 rgba(255,255,255,.06);
  border-radius:22px;
}

/* Background FX */
.bgFX{position:fixed;inset:0;z-index:-1;overflow:hidden}
.blob{position:absolute;width:760px;height:760px;border-radius:999px;filter:blur(85px);opacity:.22}
.b1{background:var(--xrC);top:-320px;right:-300px}
.b2{background:var(--xrB);bottom:-340px;left:-320px}
.b3{background:var(--xrI);top:120px;left:55%}
.gridFX{
  position:absolute;inset:0;
  background-image: radial-gradient(circle at 1px 1px, rgba(255,255,255,.055) 1px, transparent 0);
  background-size: 28px 28px;
  opacity:.35;
  mask-image: radial-gradient(circle at center, rgba(0,0,0,1), rgba(0,0,0,0));
}
.noiseFX{
  position:absolute;inset:0;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='240' height='240'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.85' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='240' height='240' filter='url(%23n)' opacity='.22'/%3E%3C/svg%3E");
  opacity:.24;
}
.scanline{
  position:absolute;inset:-60% -20%;
  background: linear-gradient(180deg, transparent, rgba(34,211,238,.08), transparent);
  transform: rotate(10deg);
  animation: scan 7.5s linear infinite;
  opacity:.25;
}
@keyframes scan{0%{transform:translateY(-40%) rotate(10deg)}100%{transform:translateY(40%) rotate(10deg)}}

/* Topbar */
.topbar{position:fixed;top:14px;left:0;right:0;z-index:50}
.topbarInner{
  display:flex;align-items:center;justify-content:space-between;gap:12px;
  padding:12px 14px;
  border-radius:22px;
}
.brand{display:flex;align-items:center;gap:12px}
.brandMark{
  width:46px;height:46px;border-radius:18px;
  display:grid;place-items:center;
  font-weight:900;
  background: linear-gradient(135deg, rgba(34,211,238,.38), rgba(59,130,246,.22));
  border:1px solid rgba(34,211,238,.18);
  box-shadow: 0 26px 75px rgba(34,211,238,.16);
}
.brandTitle{font-weight:900;letter-spacing:.2px}
.brandSub{color:rgba(34,211,238,.95)}
.brandTag{margin-top:2px;font-size:.78rem;color:rgba(226,232,240,.70);font-weight:800}

.nav{display:none;gap:8px}
@media (min-width: 980px){.nav{display:flex}}

.navPill{
  border:none;cursor:pointer;
  padding:.72rem 1.04rem;
  border-radius:999px;
  font-size:.92rem;
  font-weight:900;
  color:rgba(226,232,240,.82);
  background: rgba(255,255,255,.05);
  border:1px solid rgba(255,255,255,.14);
  transition:.18s ease;
}
.navPill:hover{transform:translateY(-2px);background:rgba(255,255,255,.08);border-color:rgba(255,255,255,.20)}
.navPill.on{
  color:#fff;
  background: linear-gradient(90deg, rgba(34,211,238,.22), rgba(59,130,246,.16));
  border-color: rgba(34,211,238,.30);
  box-shadow: 0 22px 70px rgba(34,211,238,.12);
}

.topActions{display:flex;gap:8px;align-items:center}

.btn{
  border:none;cursor:pointer;
  border-radius:999px;
  padding:.76rem 1.12rem;
  font-size:.95rem;
  font-weight:900;
  color:#fff;
  background: rgba(255,255,255,.045);
  border:1px solid rgba(255,255,255,.16);
  box-shadow: 0 18px 46px rgba(0,0,0,.26), inset 0 1px 0 rgba(255,255,255,.06);
  transition: transform .18s ease, filter .18s ease, background .18s ease, border-color .18s ease;
}
.btn:hover{transform:translateY(-2px);filter:brightness(1.05);background:rgba(255,255,255,.06)}
.btn:active{transform:translateY(1px) scale(.99)}

.btnPrimary{
  border-color: rgba(34,211,238,.22);
  background: linear-gradient(90deg, rgba(34,211,238,.82), rgba(59,130,246,.70));
  box-shadow: 0 30px 90px rgba(34,211,238,.18), 0 0 0 1px rgba(34,211,238,.10) inset;
  position:relative;overflow:hidden;
}
.btnPrimary::after{
  content:"";position:absolute;inset:-2px;
  background: radial-gradient(circle at 30% 20%, rgba(255,255,255,.30), transparent 50%);
  opacity:0;transition:.25s ease;
}
.btnPrimary:hover::after{opacity:.95}

.btnGhost{background: rgba(255,255,255,.045)}
.btnCTA{padding:.92rem 1.4rem;font-size:1.02rem}
.full{width:100%}

/* Layout */
.layout{display:grid;grid-template-columns:1fr;gap:16px}
@media (min-width: 1100px){.layout{grid-template-columns:1fr 360px;gap:18px}}
.mainCol{display:flex;flex-direction:column;gap:16px}

/* HERO */
.hero{padding:18px 18px;display:grid;gap:16px}
@media (min-width: 900px){.hero{grid-template-columns:1.2fr .8fr;align-items:stretch}}
.chipline{
  display:inline-flex;align-items:center;gap:10px;
  padding:.5rem .85rem;border-radius:999px;
  background: rgba(255,255,255,.05);
  border:1px solid rgba(255,255,255,.12);
  color:rgba(226,232,240,.84);
  font-weight:900;font-size:.88rem;
}
.dotPulse{
  width:10px;height:10px;border-radius:999px;background:var(--xrC);
  box-shadow:0 0 0 0 rgba(34,211,238,.55);
  animation:pulse 1.4s infinite;
}
@keyframes pulse{
  0%{box-shadow:0 0 0 0 rgba(34,211,238,.55)}
  70%{box-shadow:0 0 0 14px rgba(34,211,238,0)}
  100%{box-shadow:0 0 0 0 rgba(34,211,238,0)}
}
.heroTitle{
  margin:12px 0 0;
  font-size: clamp(28px, 3.1vw, 48px);
  line-height: 1.2;
  font-weight: 900;
  text-shadow: 0 16px 60px rgba(0,0,0,.42);
}
.accent{color:rgba(34,211,238,.95);text-shadow:0 0 28px rgba(34,211,238,.15)}
.heroDesc{
  margin:10px 0 0;
  color:rgba(226,232,240,.82);
  line-height:2.05;
  font-size:1.06rem;
  font-weight:700;
}
.heroBtns{margin-top:14px;display:flex;flex-wrap:wrap;gap:10px}

.statGrid{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}
.statCard{
  padding:14px;border-radius:18px;
  background: rgba(255,255,255,.05);
  border:1px solid rgba(255,255,255,.12);
  box-shadow: 0 18px 55px rgba(0,0,0,.28);
  text-align:center;
}
.statNum{font-weight:900;font-size:1.85rem}
.statLbl{margin-top:4px;color:rgba(226,232,240,.66);font-weight:900;font-size:.85rem}

.miniBadge{margin-top:12px;padding:12px 14px;border-radius:18px}
.miniBadgeT{font-weight:900}
.miniBadgeS{margin-top:4px;color:rgba(226,232,240,.70);font-weight:800;font-size:.86rem}

/* Panels */
.panel{overflow:hidden}
.panel.pad{padding:16px}
.panelHead{
  padding:14px 14px;
  display:flex;flex-wrap:wrap;gap:12px;
  align-items:center;justify-content:space-between;
  border-bottom:1px solid rgba(255,255,255,.10);
}
.panelTitle{font-weight:900;font-size:1.2rem}
.panelSub{margin-top:2px;color:rgba(226,232,240,.70);font-weight:800;font-size:.92rem}
.panelHeadRight{display:flex;flex-wrap:wrap;gap:10px;align-items:center}

/* Segmented */
.seg{
  display:inline-flex;overflow:hidden;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.04);
}
.seg.full{width:100%}
.segBtn{
  border:none;cursor:pointer;
  padding:.62rem .9rem;
  font-weight:900;font-size:.88rem;
  color:rgba(226,232,240,.78);
  background:transparent;
  transition:.18s ease;
}
.segBtn:hover{background:rgba(255,255,255,.06)}
.segBtn.on{background:rgba(34,211,238,.18);color:#fff}

/* Stage */
.stageWrap{position:relative;background:#000}
.cam{
  position:absolute;inset:0;width:100%;height:100%;
  object-fit:cover;opacity:0;transition:.25s ease;
  filter:saturate(1.08) contrast(1.06);
}
.cam.on{opacity:.30}

.stage3d{
  position:relative;
  min-height:520px;
  aspect-ratio:16/9;
  overflow:hidden;
  background:
    radial-gradient(circle at 30% 20%, rgba(34,211,238,.20), transparent 55%),
    radial-gradient(circle at 75% 65%, rgba(59,130,246,.18), transparent 55%),
    linear-gradient(180deg, rgba(2,6,23,.10), rgba(2,6,23,.92));
  border-top:1px solid rgba(255,255,255,.10);
  border-bottom:1px solid rgba(255,255,255,.10);
}
.stageLight{
  position:absolute;
  width:560px;height:560px;border-radius:999px;
  filter:blur(78px);opacity:.26;mix-blend-mode:screen;
}
.stageLight.l1{background:rgba(34,211,238,.95);top:-280px;right:-260px}
.stageLight.l2{background:rgba(59,130,246,.92);bottom:-300px;left:-260px}
.stageLight.l3{background:rgba(99,102,241,.90);top:60px;left:55%}

.stageFloor{
  position:absolute;left:-10%;right:-10%;bottom:-25%;height:60%;
  background:
    radial-gradient(circle at center, rgba(255,255,255,.06), rgba(0,0,0,0) 60%),
    linear-gradient(180deg, rgba(255,255,255,.03), rgba(0,0,0,0));
  transform: perspective(900px) rotateX(70deg);
  transform-origin:bottom;
  border-top:1px solid rgba(255,255,255,.08);
}
.stageWall{
  position:absolute;inset:0;
  background: radial-gradient(circle at center, rgba(255,255,255,.05), rgba(0,0,0,0) 55%);
  opacity:.45;
}

.audience{position:absolute;inset:0;pointer-events:none}
.audience .row{
  position:absolute;left:0;right:0;height:70px;bottom:0;
  background:linear-gradient(180deg, rgba(0,0,0,0), rgba(0,0,0,.55));
  opacity:.55;
}
.audience .r1{bottom:0;height:90px;opacity:.66}
.audience .r2{bottom:70px;height:80px;opacity:.54;transform:scale(.95)}
.audience .r3{bottom:135px;height:70px;opacity:.44;transform:scale(.90)}
.audience .r4{bottom:190px;height:60px;opacity:.34;transform:scale(.86)}
.audience .row::before{
  content:"";position:absolute;inset:0;
  background:
    radial-gradient(circle at 10% 80%, rgba(255,255,255,.10) 0 10%, transparent 11%),
    radial-gradient(circle at 22% 85%, rgba(255,255,255,.10) 0 12%, transparent 13%),
    radial-gradient(circle at 36% 80%, rgba(255,255,255,.10) 0 10%, transparent 11%),
    radial-gradient(circle at 50% 86%, rgba(255,255,255,.10) 0 12%, transparent 13%),
    radial-gradient(circle at 66% 82%, rgba(255,255,255,.10) 0 11%, transparent 12%),
    radial-gradient(circle at 78% 88%, rgba(255,255,255,.10) 0 12%, transparent 13%),
    radial-gradient(circle at 90% 82%, rgba(255,255,255,.10) 0 10%, transparent 11%);
  opacity:.75;
}

.spot{position:absolute;inset:0;pointer-events:none}
.spotRing{
  position:absolute;left:50%;top:55%;
  width:200px;height:200px;transform:translate(-50%,-50%);
  border-radius:999px;
  border:1px solid rgba(255,255,255,.14);
  box-shadow:0 0 0 8px rgba(34,211,238,.10);
  opacity:.55;
  animation:ring 2.8s infinite ease-in-out;
}
.spotRing.r2{width:300px;height:300px;opacity:.30;animation-duration:3.4s}
@keyframes ring{0%,100%{transform:translate(-50%,-50%) scale(1)}50%{transform:translate(-50%,-50%) scale(1.06)}}

/* HUD */
.hud{position:absolute;inset:0;padding:18px;display:flex;flex-direction:column;gap:12px}
.hudTop{display:flex;gap:12px;justify-content:space-between;align-items:flex-start}
.hudCard{
  background:rgba(0,0,0,.36);
  border:1px solid rgba(255,255,255,.12);
  border-radius:16px;
  padding:.8rem;
  backdrop-filter: blur(12px);
  min-width:220px;
}
.hudCard.wide{min-width:320px;max-width:560px}
.hudLabel{font-size:.72rem;letter-spacing:.12em;color:rgba(226,232,240,.72);font-weight:900}
.hudValue{margin-top:.2rem;font-weight:900}
.hudCoach{margin-top:.35rem;color:rgba(226,232,240,.88);line-height:1.7;font-weight:800}

.hudRight{
  position:absolute;top:18px;bottom:110px;left:18px;width:170px;
  display:flex;flex-direction:column;gap:10px;
}
.meter{
  background:rgba(0,0,0,.34);
  border:1px solid rgba(255,255,255,.12);
  border-radius:14px;
  padding:.65rem .7rem;
}
.meterT{font-size:.78rem;color:rgba(226,232,240,.75);font-weight:900}
.meterV{font-weight:900;font-size:1.05rem;margin-top:.15rem}
.meterBar{height:8px;background:rgba(255,255,255,.12);border-radius:999px;overflow:hidden;margin-top:.35rem}
.meterFill{
  height:100%;width:0%;
  background:linear-gradient(90deg, rgba(34,211,238,.95), rgba(59,130,246,.92), rgba(99,102,241,.90));
  transition:.35s ease;
}
.meterFill.warn{background:linear-gradient(90deg, rgba(245,158,11,.95), rgba(239,68,68,.95))}

.hudBottom{margin-top:auto;display:flex;gap:12px;justify-content:space-between;align-items:end}
.audMood{
  background:rgba(0,0,0,.34);
  border:1px solid rgba(255,255,255,.12);
  border-radius:18px;
  padding:.8rem 1rem;
  min-width:220px;
}
.audTitle{font-size:.8rem;color:rgba(226,232,240,.75);font-weight:900}
.audEmoji{font-size:2rem;margin-top:.2rem;filter:drop-shadow(0 0 18px rgba(255,255,255,.25))}
.audText{margin-top:.15rem;color:rgba(226,232,240,.88);font-weight:900}

.hudActions{display:flex;flex-wrap:wrap;gap:10px;justify-content:flex-end;align-items:center}
.recBtn{
  display:inline-flex;align-items:center;gap:.7rem;
  padding:.70rem .95rem;border-radius:999px;
  background:rgba(255,255,255,.05);
  border:1px solid rgba(255,255,255,.14);
  font-weight:900;
  transition:.18s ease;
}
.recBtn:hover{transform:translateY(-2px);background:rgba(255,255,255,.07)}
.recDot{width:12px;height:12px;border-radius:999px;background:rgba(239,68,68,1)}
.recTime{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;opacity:.9}
.recording .recDot{animation:recPulse 1.1s infinite}
@keyframes recPulse{0%{box-shadow:0 0 0 0 rgba(239,68,68,.55)}70%{box-shadow:0 0 0 12px rgba(239,68,68,0)}100%{box-shadow:0 0 0 0 rgba(239,68,68,0)}}

/* Toast */
.toast{position:absolute;inset:0;display:grid;place-items:start center;padding-top:24px}
.toastInner{width:min(520px, 92%);padding:16px;border-radius:18px}
.toastTitle{font-weight:900}
.toastList{margin:10px 0 0;padding-right:18px;color:rgba(226,232,240,.90);line-height:1.9;font-weight:800}
.toastActions{margin-top:12px;display:flex;justify-content:flex-end}
.hidden{display:none !important}

/* Scenario cards */
.panelTop{display:flex;flex-wrap:wrap;gap:12px;align-items:end;justify-content:space-between}
.gridCards{margin-top:14px;display:grid;grid-template-columns:1fr;gap:12px}
@media (min-width: 900px){.gridCards{grid-template-columns:repeat(3,1fr)}}

.scenarioCard{
  border-radius:18px;
  background:rgba(255,255,255,.04);
  border:1px solid rgba(255,255,255,.10);
  padding:16px;
  transition:.18s ease;
  box-shadow:0 16px 45px rgba(0,0,0,.24);
}
.scenarioCard:hover{
  transform:translateY(-4px);
  border-color:rgba(34,211,238,.22);
  box-shadow:0 24px 70px rgba(34,211,238,.12);
}
.scenarioCard.special{border-color:rgba(34,211,238,.22)}
.scenarioIcon{
  width:40px;height:40px;border-radius:14px;
  display:grid;place-items:center;
  background:rgba(34,211,238,.14);
  border:1px solid rgba(34,211,238,.18);
}
.scenarioTitle{margin-top:10px;font-weight:900}
.scenarioDesc{margin-top:6px;color:rgba(226,232,240,.72);line-height:1.8;font-weight:800}
.scenarioBtn{
  margin-top:12px;width:100%;
  padding:.65rem .8rem;border-radius:14px;
  font-weight:900;color:#fff;
  background:rgba(34,211,238,.14);
  border:1px solid rgba(34,211,238,.20);
  cursor:pointer;
}
.scenarioBtn:hover{filter:brightness(1.06)}

/* Analysis */
.panelActions{display:flex;gap:10px;flex-wrap:wrap}
.miniGrid{margin-top:14px;display:grid;grid-template-columns:1fr;gap:12px}
@media (min-width: 900px){.miniGrid{grid-template-columns:repeat(3,1fr)}}
.miniCard{
  border-radius:18px;background:rgba(255,255,255,.04);
  border:1px solid rgba(255,255,255,.10);
  padding:16px;
}
.miniTitle{color:rgba(226,232,240,.70);font-weight:900}
.miniValue{font-size:1.8rem;font-weight:900;margin-top:6px}
.miniHint{margin-top:4px;color:rgba(226,232,240,.62);font-weight:900;font-size:.85rem}

.timelineWrap{margin-top:14px;border-radius:18px;background:rgba(0,0,0,.22);border:1px solid rgba(255,255,255,.10);padding:14px}
.timelineTitle{font-weight:900;margin-bottom:10px}
canvas{width:100%;height:auto;border-radius:14px}
.timelineLegend{display:flex;gap:12px;margin-top:10px;color:rgba(226,232,240,.78);font-weight:900;font-size:.85rem}
.lgnd i{display:inline-block;width:12px;height:12px;border-radius:4px;margin-left:6px}
.lgnd .c1{background:rgba(34,211,238,.95)}
.lgnd .c2{background:rgba(59,130,246,.95)}
.lgnd .c3{background:rgba(99,102,241,.95)}
.analysisSummary{
  margin-top:12px;
  padding:14px;border-radius:18px;
  background:rgba(0,0,0,.22);
  border:1px solid rgba(255,255,255,.10);
  white-space:pre-wrap;
  line-height:1.9;
  color:rgba(226,232,240,.90);
  font-weight:800;
}

/* Jury */
.juryGrid{margin-top:14px;display:grid;grid-template-columns:1fr;gap:12px}
@media (min-width: 900px){.juryGrid{grid-template-columns:repeat(3,1fr)}}
.juryGrid2{margin-top:12px;display:grid;grid-template-columns:1fr;gap:12px}
@media (min-width: 900px){.juryGrid2{grid-template-columns:repeat(2,1fr)}}

.scoreCard,.juryCard,.setCard{
  border-radius:18px;background:rgba(255,255,255,.04);
  border:1px solid rgba(255,255,255,.10);
  padding:16px;
}
.scoreTop{display:flex;justify-content:space-between;align-items:center}
.scoreLbl{color:rgba(226,232,240,.70);font-weight:900}
.badge{padding:.25rem .6rem;border-radius:999px;font-weight:900;font-size:.78rem;background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.10)}
.scoreNum{margin-top:10px;font-weight:900;font-size:3rem}
.outOf{font-size:1rem;color:rgba(226,232,240,.65)}
.bar{height:10px;background:rgba(255,255,255,.10);border-radius:999px;overflow:hidden;margin-top:10px}
.barFill{height:100%;width:0%;background:linear-gradient(90deg, rgba(34,211,238,.95), rgba(59,130,246,.92), rgba(99,102,241,.90));transition:.35s ease}
.decision{margin-top:10px;font-weight:900;color:rgba(226,232,240,.92)}
.juryTitle{font-weight:900;margin-bottom:10px}
.juryRow{display:flex;align-items:center;justify-content:space-between;margin:8px 0;color:rgba(226,232,240,.82);font-weight:800}
.juryRow b{font-weight:900}
.juryNote{margin-top:10px;padding:10px 12px;border-radius:14px;background:rgba(0,0,0,.20);border:1px solid rgba(255,255,255,.10);color:rgba(226,232,240,.88);line-height:1.85;font-weight:800}

.reportBox{
  margin-top:12px;
  padding:14px;border-radius:18px;
  background:rgba(0,0,0,.22);
  border:1px solid rgba(255,255,255,.10);
  white-space:pre-wrap;
  line-height:1.9;
  color:rgba(226,232,240,.92);
  font-weight:800;
}

/* Settings */
.setGrid{margin-top:14px;display:grid;grid-template-columns:1fr;gap:12px}
@media (min-width: 900px){.setGrid{grid-template-columns:repeat(3,1fr)}}
.setTitle{font-weight:900}
.setHint{margin-top:8px;color:rgba(226,232,240,.68);font-weight:800;line-height:1.8;font-size:.9rem}
input[type="range"]{width:100%;margin-top:10px}

/* Sidebar */
.side{padding:16px;position:relative}
@media (min-width:1100px){.side{position:sticky;top:92px;height:fit-content}}
.sideTitle{font-weight:900;font-size:1.15rem}
.sideSub{margin-top:6px;color:rgba(226,232,240,.70);font-weight:900}
.sideBlock{margin-top:12px;padding:14px;border-radius:18px;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.10)}
.sideItem{display:flex;justify-content:space-between;align-items:center;font-weight:900}
.sideItem span{color:rgba(226,232,240,.78)}
.sideHint{margin-top:6px;color:rgba(226,232,240,.62);font-weight:800;font-size:.86rem;line-height:1.7}
.sideActions{margin-top:12px;display:flex;flex-direction:column;gap:10px}
.tiny{margin-top:12px;color:rgba(226,232,240,.55);font-weight:800;font-size:.82rem;line-height:1.8}

/* Executive mode (عرض لجنة) */
body.exec .bgFX{filter:saturate(1.25) contrast(1.05)}
body.exec .hud{transform:scale(1.03)}
body.exec .panel, body.exec .side, body.exec .hero{box-shadow: 0 24px 80px rgba(0,0,0,.42), inset 0 1px 0 rgba(255,255,255,.06)}
body.exec .brandTag{color:rgba(226,232,240,.88)}

/* Small */
@media (max-width:520px){
  .hudRight{display:none}
  .hudCard{min-width:auto}
  .hudCard.wide{min-width:auto}
  .stage3d{min-height:440px}
}
